<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/user-layout}">
<head>
    <meta charset="UTF-8">
    <title>E2BS</title>

    <!-- Swiper CSS (이미 사용 중이시다면 생략 가능) -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>
    <!-- Linearicons (화살표, + 아이콘 용) -->
    <link href="https://cdn.linearicons.com/free/1.0.0/icon-font.min.css" rel="stylesheet">

    <!-- 프로젝트의 기본 스타일 -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- ↓ 아래 CSS를 ⮕ style.css 에 붙여넣거나, 이 페이지에 그대로 남겨두시면 됩니다. ↓ -->
    <style>
        /* ======================================
           2025 EBS 수능특강 배너 섹션
           ====================================== */

        /* 1) feature-banner 자체는 흰색(또는 투명) 배경으로 */
        .feature-banner {
            background-color: #FFFFFF; /* 배너 섹션 바깥 여백은 흰색 */
            padding: 0; /* padding은 banner-wrapper에서 담당 */
            position: relative;
            box-sizing: border-box;
        }

        /* 2) banner-wrapper만 복숭아색 배경을 가지도록 변경 */
        .feature-banner .banner-wrapper {
            background-color: #FDEEE0; /* 오직 컨텐츠(텍스트+이미지) 영역만 복숭아색 */
            padding: 80px 10%; /* 위/아래 80px, 좌/우 10% 여백 설정 */
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1280px;
            margin: 0 auto;
            box-sizing: border-box;
        }

        /* 좌/우 네비게이션 화살표 */
        .feature-banner .banner-prev-btn,
        .feature-banner .banner-next-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border: none;
            background-color: rgba(0, 0, 0, 0.03);
            border-radius: 50%;
            cursor: pointer;
            outline: none;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.2s ease;
            z-index: 10;
        }

        .feature-banner .banner-prev-btn:hover,
        .feature-banner .banner-next-btn:hover {
            background-color: rgba(0, 0, 0, 0.08);
        }

        .feature-banner .banner-prev-btn {
            left: 5%;
        }

        .feature-banner .banner-next-btn {
            right: 5%;
        }

        .feature-banner .banner-prev-btn i,
        .feature-banner .banner-next-btn i {
            font-size: 20px;
            color: #555555;
        }

        /* 왼쪽 텍스트 영역 (타이틀 + 서브텍스트) */
        .feature-banner .banner-text {
            flex: 1;
            max-width: 45%;
            text-align: left;
        }

        .feature-banner .banner-text h2 {
            font-size: 56px;
            font-weight: 700;
            line-height: 1.2;
            margin: 0;
            color: #000000;
        }

        .feature-banner .banner-text p {
            font-size: 28px;
            margin-top: 16px;
            color: #000000;
        }

        /* 오른쪽 4개 이미지를 2×2 그리드로 */
        .feature-banner .banner-items {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
            max-width: 480px;
        }

        .feature-banner .banner-items .banner-item {
            position: relative;
        }

        .feature-banner .banner-items .banner-item img {
            width: 100%;
            border-radius: 8px;
            object-fit: cover;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
        }

        /* ======================================
           탭 네비게이션 (배너 바로 아래 탭)
           ====================================== */
        .banner-tab-nav {
            display: flex;
            margin: 0 auto;
            max-width: 1280px;
            border-top: 1px solid #DDDDDD;
            border-bottom: 1px solid #DDDDDD;
            list-style: none;
            padding: 0;
            box-sizing: border-box;
        }

        .banner-tab-nav .tab-item {
            flex: 1;
            text-align: center;
            padding: 16px 0;
            cursor: pointer;
            font-size: 18px;
            font-weight: 500;
            color: #333333;
            background-color: #FFFFFF;
            border-right: 1px solid #DDDDDD;
            transition: background-color 0.2s;
        }

        .banner-tab-nav .tab-item:last-child {
            border-right: none;
        }

        .banner-tab-nav .tab-item:hover {
            background-color: #F7F7F7;
        }

        .banner-tab-nav .tab-item.active {
            background-color: #333333;
            color: #FFFFFF;
            font-weight: 700;
            border-bottom: 4px solid #333333;
        }

        /* ============================
           오늘의 책 섹션 전용 스타일
           ============================ */

        .today-book-section {
            padding: 60px 10%;
            background-color: #ffffff;
            position: relative;
        }

        /* 섹션 타이틀 (오늘의 책 / 서브텍스트) */
        .today-book-section .section-title {
            margin-bottom: 40px;
            text-align: left;
        }

        .today-book-section .section-title h2 {
            display: inline-block;
            font-size: 40px;
            font-weight: 700;
            margin-right: 12px;
            color: #000000;
        }

        .today-book-section .section-title span {
            color: #888888;
            font-size: 28px;
        }

        /* 전체 콘텐츠 래퍼 */
        .today-book-wrapper {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* 좌/우 버튼 (화살표) */
        .today-prev-btn,
        .today-next-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border: none;
            background-color: rgba(0, 0, 0, 0.05);
            border-radius: 50%;
            cursor: pointer;
            outline: none;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.2s ease;
        }

        .today-prev-btn:hover,
        .today-next-btn:hover {
            background-color: rgba(0, 0, 0, 0.1);
        }

        .today-prev-btn {
            left: 0;
        }

        .today-next-btn {
            right: 0;
        }

        .today-prev-btn i,
        .today-next-btn i {
            font-size: 20px;
            color: #555555;
        }

        /* 상단 + 버튼 */
        .today-add-btn {
            position: absolute;
            top: 0;
            right: 0;
            width: 36px;
            height: 36px;
            border: none;
            background-color: transparent;
            cursor: pointer;
            outline: none;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .today-add-btn i {
            font-size: 24px;
            color: #555555;
        }

        .today-add-btn:hover i {
            color: #000000;
        }

        /* 날짜 라벨 (메인 북 위) */
        .today-date {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
            color: #666666;
            background-color: #ffffff;
            padding: 0 6px;
        }

        /* 메인+서브 도서 컨테이너 */
        .today-book-content {
            display: flex;
            gap: 30px;
            align-items: flex-start;
        }

        /* --------------------------
           메인 도서 영역
           -------------------------- */
        .today-main-book {
            margin-left: 40px;
            display: flex;
            gap: 30px;
            flex: 1.5;
            min-width: 500px;
        }

        .today-main-book .today-main-img {
            width: 220px;
            height: auto;
            border-radius: 8px;
            object-fit: cover;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .today-main-book .today-main-info {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            max-width: 450px;
        }

        .today-main-book .today-main-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 12px;
            color: #222222;
        }

        .today-main-book .today-main-meta {
            font-size: 14px;
            color: #555555;
            margin-bottom: 14px;
        }

        .today-main-meta .dot {
            margin: 0 6px;
            color: #cccccc;
        }

        .today-main-book .today-main-desc {
            font-size: 16px;
            color: #444444;
            line-height: 1.5;
            margin-bottom: 20px;
            max-height: 96px; /* 글자수에 따라 필요 시 조절 가능합니다. */
            overflow: hidden;
        }

        .today-main-book .today-main-price {
            font-size: 18px;
            font-weight: 600;
            color: #222222;
        }

        .today-main-book .today-main-price .discount {
            margin-left: 8px;
            font-size: 14px;
            font-weight: 500;
            color: #d32f2f;
        }

        /* --------------------------
           서브 도서 목록 영역
           -------------------------- */
        .today-sub-books {
            display: flex;
            gap: 24px;
            flex: 1;
            justify-content: flex-end;
        }

        .today-sub-books .sub-book-item {
            text-align: center;
            width: 160px;
        }

        .today-sub-books .sub-book-item img {
            width: 100%;
            border-radius: 6px;
            object-fit: cover;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
        }

        .today-sub-books .sub-book-title {
            font-size: 14px;
            margin-top: 8px;
            color: #333333;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }


        /* =============================
   베스트셀러 섹션 (완전 복붙 후 기존 규칙 삭제)
   ============================= */
        .bestseller-section {
            background-color: #f6f6f6;
            padding: 60px 10%; /* 위/아래 여백 40px, 좌/우 10% */
            position: relative;
            box-sizing: border-box;
        }

        /* 섹션 제목 */
        .bestseller-section .section-title {
            margin-bottom: 24px; /* 타이틀과 컨텐츠 사이 간격 */
            text-align: left;
        }

        .bestseller-section .section-title h2 {
            display: inline-block;
            font-size: 36px; /* 제목 글자 크기 */
            font-weight: 700;
            margin-right: 8px; /* 제목과 서브텍스트 사이 간격 */
            color: #222222;
        }

        .bestseller-section .section-title span {
            color: #888888;
            font-size: 20px; /* 서브텍스트 글자 크기 */
            vertical-align: middle;
        }

        /* + 버튼 (우측 상단) */
        .bestseller-add-btn {
            position: absolute;
            top: 0;
            right: 0;
            width: 32px; /* 버튼 크기 */
            height: 32px;
            border: none;
            background-color: transparent;
            cursor: pointer;
            outline: none;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .bestseller-add-btn i {
            font-size: 20px; /* 아이콘 크기 */
            color: #555555;
            transition: color 0.2s;
        }

        .bestseller-add-btn:hover i {
            color: #000000;
        }

        /* 카테고리 네비게이션 (전체, 소설, ...) */
        .bestseller-section .category-nav {
            display: flex;
            gap: 30px; /* 탭 간격 */
            align-items: center;
            margin: 8px 0 32px 0; /* 위/아래 여백 */
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 10px; /* 아래 경계선과 탭 텍스트 사이 간격 */
            font-size: 16px; /* 탭 글자 크기 */
            box-sizing: border-box;
        }

        .bestseller-section .category-nav a {
            text-decoration: none;
            color: #555555;
            padding: 4px 0;
            transition: color 0.2s;
        }

        .bestseller-section .category-nav a:hover,
        .bestseller-section .category-nav a.active {
            color: #222222;
            border-bottom: 2px solid #222222;
            font-weight: 500;
        }

        /* ────────────────────────────────────────────────
           슬라이더 래퍼 (화살표 + 책 목록 전용)
           ──────────────────────────────────────────────── */
        /* wrapper에 좌/우 여유(패딩)를 둬서 버튼이 콘텐츠를 침범하지 않도록 함 */
        .bestseller-wrapper {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 0 40px; /* 좌/우 48px 만큼 공간 확보 */
            box-sizing: border-box;
            overflow: visible; /* 버튼이 래퍼 밖으로 살짝 나가도록 허용 */
        }

        /* 왼쪽/오른쪽 화살표 버튼 */
        .bestseller-prev-btn,
        .bestseller-next-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 36px; /* 버튼 지름 */
            height: 36px; /* 버튼 지름 */
            background-color: rgba(0, 0, 0, 0.05);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            outline: none;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
            transition: background-color 0.2s ease;
        }

        .bestseller-prev-btn:hover,
        .bestseller-next-btn:hover {
            background-color: rgba(0, 0, 0, 0.1);
        }

        /* 래퍼 내부 패딩을 고려하여 left: 0, right: 0 으로 설정 */
        .bestseller-prev-btn {
            left: 0;
        }

        .bestseller-next-btn {
            right: 0;
        }

        .bestseller-prev-btn i,
        .bestseller-next-btn i {
            font-size: 18px; /* 화살표 아이콘 크기 */
            color: #555555;
        }

        /* 책 목록 영역 */
        .bestseller-books {
            display: flex;
            gap: 10%;
            width: 100%;
            justify-content: center;
            align-items: flex-start;
            flex-wrap: nowrap;
            box-sizing: border-box;
        }

        /* ─────────────────────────────────────────────────
           개별 책 아이템 (책 커버 · 랭크 배지 · 제목 · 가격)
           ───────────────────────────────────────────────── */
        .bestseller-books .book-item {
            position: relative;
            width: 180px; /* 책 커버 너비 */
            text-align: center;
            margin-bottom: 12px; /* 제목/가격과 아래 여백 */
        }

        /* 랭크 배지 */
        .bestseller-books .book-item .rank-badge {
            position: absolute;
            top: -10px; /* 배지를 이미지 위로 살짝 올림 */
            left: 50%;
            transform: translateX(-50%);
            width: 30px; /* 배지 지름 */
            height: 30px; /* 배지 지름 */
            line-height: 30px;
            border-radius: 50%;
            font-size: 14px; /* 배지 숫자 크기 */
            font-weight: 700;
            color: white;
            text-align: center;
            z-index: 5;
        }

        /* 배지 색상: 1등 브라운, 2·4등 그레이, 3등 짙은 그레이 */
        .bestseller-books .book-item .rank-badge.rank-1 {
            background-color: #8c6f55;
        }

        .bestseller-books .book-item .rank-badge.rank-2,
        .bestseller-books .book-item .rank-badge.rank-4 {
            background-color: #7a7a7a;
        }

        .bestseller-books .book-item .rank-badge.rank-3 {
            background-color: #555555;
        }

        /* 책 커버 */
        .bestseller-books .book-item img {
            width: 100%;
            border-radius: 6px;
            object-fit: cover;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
        }

        /* 책 제목 */
        .bestseller-books .book-item .book-title {
            margin-top: 8px; /* 이미지와 제목 사이 간격 */
            font-size: 13px; /* 제목 글자 크기 */
            color: #333333;
            line-height: 1.4;

            display: -webkit-box; /* 두 줄까지만 보이도록 */
            -webkit-line-clamp: 2; /* 최대 2줄 */
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: normal; /* 줄바꿈 허용 */
        }

        /* 책 가격 */
        .bestseller-books .book-item .book-price {
            margin-top: 4px; /* 제목과 가격 사이 간격 */
            font-size: 13px; /* 가격 글자 크기 */
            color: #444444;
        }


    </style>
</head>

<body>
<div layout:fragment="content">

    <!-- ==============================
     2025 EBS 수능특강 배너 섹션
     ============================== -->
    <section class="feature-banner">
        <!-- 왼쪽 화살표 버튼 -->
        <button class="banner-prev-btn" onclick="prevBannerSlide()">
            <i class="lnr lnr-chevron-left"></i>
        </button>

        <!-- 배너 내부 전체 래퍼 -->
        <div class="banner-wrapper">
            <!-- 1) 텍스트 영역 -->
            <div class="banner-text">
                <h2>2026<br/>EBS 수능특강</h2>
                <p>수능연계대비 필수교재</p>
            </div>

            <!-- 2) 4개 아이템 영역 (2x2 그리드) -->
            <div class="banner-items">
                <div class="banner-item">
                    <img src="https://image.aladin.co.kr/product/35532/55/cover500/8954789544_1.jpg" alt="수능특강 문학">
                </div>
                <div class="banner-item">
                    <img src="https://image.aladin.co.kr/product/35532/62/cover500/8954789587_2.jpg" alt="수능특강 영어">
                </div>
                <div class="banner-item">
                    <img src="https://image.aladin.co.kr/product/35532/55/cover500/s012036173_1.jpg" alt="수능특강 수학Ⅱ">
                </div>
                <div class="banner-item">
                    <img src="https://image.aladin.co.kr/product/35532/58/cover500/8954789668_3.jpg" alt="수능특강 한국사">
                </div>
            </div>
        </div>

        <!-- 오른쪽 화살표 버튼 -->
        <button class="banner-next-btn" onclick="nextBannerSlide()">
            <i class="lnr lnr-chevron-right"></i>
        </button>
    </section>

    <!-- ==============================
         배너 바로 아래 들어갈 탭 네비게이션
         ============================== -->
    <ul class="banner-tab-nav">
        <li class="tab-item active">2025 수능특강</li>
        <li class="tab-item">이주의_책</li>
        <li class="tab-item">이슈도서</li>
    </ul>

    <!-- ============== “오늘의 책” 섹션 시작 ============== -->
    <section class="today-book-section">
        <!-- ...기존에 작성하신 today-book HTML이 이곳에 들어갑니다... -->
    </section>
    <!-- ============================
         오늘의 책 섹션 (화살표 제거 버전)
         ============================ -->
    <section class="today-book-section">
        <!-- 섹션 제목 -->
        <div class="section-title">
            <h2>오늘의 책</h2>
            <span>오늘 함께할 책을 만나보세요.</span>
        </div>

        <!-- 상단 + 버튼 (필요 없으면 그대로 두셔도 무방합니다) -->
        <button class="today-add-btn">
            <i class="lnr lnr-plus-circle"></i>
        </button>

        <!-- (1) wrapper 대신 바로 content 뽑아냄 -->
        <div class="today-book-content" th:if="${BlogBestList.size() > 0}">
            <!-- (2) 메인 도서 한 권 -->
            <div class="today-main-book">
                <img class="today-main-img"
                     th:src="@{${BlogBestList[0].productImage}}"
                     alt="대표 도서 이미지">

                <div class="today-main-info">
                    <h3 class="today-main-title" th:text="${BlogBestList[0].productTitle}">
                        도서 제목
                    </h3>
                    <p class="today-main-meta">
                        <span th:text="${BlogBestList[0].contributorName}">저자</span>
                        <span class="dot">·</span>
                        <span th:text="${BlogBestList[0].publisherName}">출판사</span>
                    </p>
                    <p class="today-main-desc"
                       th:text="${BlogBestList[0].productDescription}">
                        도서 설명이 이곳에 노출됩니다.
                    </p>
                    <p class="today-main-price"
                       th:text="|₩${#numbers.formatInteger(BlogBestList[0].productSalePrice, 3, 'COMMA')}|">
                        17,820원
                    </p>
                </div>
            </div>

            <!-- (3) 서브 도서 4권 -->
            <div class="today-sub-books">
                <div class="sub-book-item"
                     th:each="book, stat : ${BlogBestList}"
                     th:if="${stat.index >= 1 and stat.index <= 4}">
                    <img th:src="@{${book.productImage}}"
                         alt="서브 도서 이미지">
                    <p class="sub-book-title" th:text="${book.productTitle}">
                        서브 도서 제목
                    </p>
                </div>
            </div>
        </div>
    </section>


    <!-- ===========================
     베스트셀러 섹션 시작
     =========================== -->
    <section class="bestseller-section">
        <!-- 1) 섹션 제목 -->
        <div class="section-title">
            <h2>베스트셀러</h2>
            <span>이주의 가장 인기 있는 도서를 만나보세요.</span>
        </div>

        <!-- 2) + 버튼 (우측 상단) -->
        <button class="bestseller-add-btn">
            <i class="lnr lnr-plus-circle"></i>
        </button>

        <!-- 3) 카테고리 네비게이션 -->
        <nav class="category-nav">
            <a href="#" class="active">전체</a>
            <a href="#">소설</a>
            <a href="#">시/에세이/기행</a>
            <a href="#">인문/교양/철학</a>
            <a href="#">사회/정치/법률</a>
            <a href="#">경제/경영</a>
            <a href="#">자기계발</a>
            <a href="#">유아</a>
            <a href="#">여행/취미/레저</a>
        </nav>

        <!-- 4) 좌/우 화살표 + 책 목록 래퍼 -->
        <div class="bestseller-wrapper">
            <!-- 왼쪽 화살표 -->
            <button class="bestseller-prev-btn" onclick="leftBestsellerSlide()">
                <i class="lnr lnr-chevron-left"></i>
            </button>

            <!-- 책 아이템 4개 (Thymeleaf 바인딩 예시) -->
            <div class="bestseller-books">
                <!--
                    th:each="product, stat : ${BestSellerList}"
                    → stat은 IterationStatusVar 타입입니다.
                    순회 인덱스(0,1,2,…)를 얻으려면 stat.index를 사용해야 합니다.
                -->
                <div class="book-item"
                     th:each="product, stat : ${BestSellerList}"
                     th:if="${stat.index < 4}">
                    <!-- 랭크 배지 (stat.index + 1) -->
                    <div class="rank-badge"
                         th:classappend="' rank-' + (${stat.index} + 1)"
                         th:text="${stat.index + 1}">
                        1
                    </div>

                    <!-- 도서 이미지
                         product.productImage이 절대 URL(예: "/upload/abc.jpg")이라면
                         아래처럼 th:src="${…}"만 사용하면 됩니다. -->
                    <img th:src="${product.productImage}"
                         alt="도서 이미지"/>

                    <!-- 도서 제목 -->
                    <p class="book-title"
                       th:text="${product.productTitle}">
                        도서 제목
                    </p>

                    <!-- 도서 가격:
                         |…| 표기법을 사용하면 작은따옴표·괄호 짝을 쉽게 맞출 수 있습니다. -->
                    <p class="book-price"
                       th:text="|${#numbers.formatInteger(product.productSalePrice, 3, 'COMMA')}|" 원>
                        17,010원
                    </p>
                </div>
            </div>

            <button class="bestseller-next-btn" onclick="rightBestsellerSlide()">
                <i class="lnr lnr-chevron-right"></i>
            </button>
        </div>
    </section>

    <!-- ===========================
         베스트셀러 섹션 끝
         =========================== -->

</div>

<!-- 필요하다면 JavaScript로 슬라이드 기능을 구현하세요. -->
<script th:inline="javascript" type="text/javascript">
    // 예시: 좌/우 화살표 클릭 시 인덱스를 조정하여 책을 변경하는 로직
    let currentIndex = 0;
    const totalMain = /*[[${BlogBestList.size()}]]*/ 0;

    function updateTodaySection() {
        // Main Book 교체
        const mainImg = document.querySelector('.today-main-img');
        const mainTitle = document.querySelector('.today-main-title');
        const mainMeta = document.querySelector('.today-main-meta');
        const mainDesc = document.querySelector('.today-main-desc');
        const mainPrice = document.querySelector('.today-main-price span');

        // Sub Books 교체
        const subItems = document.querySelectorAll('.today-sub-books .sub-book-item');

        // JavaScript 로직으로 currentIndex 값을 기준으로 새로운 데이터를 뿌려주시면 됩니다.
        // 예시 코드이므로 실제 바인딩은 서버에서 넘겨주는 JSON 혹은 th:inline="javascript" 등으로 처리하세요.
    }

    function leftBookSlide() {
        // 클릭 시 currentIndex--, 음수인 경우 마지막 인덱스로
        if (totalMain === 0) return;
        currentIndex = (currentIndex - 1 + totalMain) % totalMain;
        updateTodaySection();
    }

    function rightBookSlide() {
        if (totalMain === 0) return;
        currentIndex = (currentIndex + 1) % totalMain;
        updateTodaySection();
    }

    // 페이지 로드 시 초기 렌더링
    document.addEventListener('DOMContentLoaded', updateTodaySection);


    // 전체 베스트셀러 리스트를 JS 배열로 받아옵니다.
    // Thymeleaf th:inline="javascript"를 사용해서 넘길 수도 있습니다.
    const bestSellerList = /*[[${BestSellerList}]]*/ [];

    // 화면에 표시할 현재 슬라이드 인덱스 (0부터 시작)
    let currentSlide = 0;
    const pageSize = 4; // 한 번에 보여줄 책 개수

    // 화면에 렌더링된 .book-item 요소(들)를 갱신하는 함수
    function renderBestsellerBooks() {
        const container = document.querySelector('.bestseller-books');
        container.innerHTML = '';

        // 현재슬라이드 * 4 부터 (currentSlide * 4 + 4) 까지 4개를 보여줍니다.
        const startIdx = currentSlide * pageSize;
        for (let i = startIdx; i < startIdx + pageSize; i++) {
            if (i >= bestSellerList.length) break;
            const product = bestSellerList[i];
            const displayIdx = i; // 실제 데이터 인덱스

            // 1) book-item div 생성
            const itemDiv = document.createElement('div');
            itemDiv.classList.add('book-item');

            // 2) rank-badge
            const badge = document.createElement('div');
            badge.classList.add('rank-badge');
            const rankNum = (i + 1).toString();
            badge.innerText = rankNum;
            // idx+1에 따라 클래스 추가 (rank-1, rank-2, …)
            badge.classList.add('rank-' + rankNum);
            itemDiv.appendChild(badge);

            // 3) 책 이미지
            const img = document.createElement('img');
            img.src = product.productImage;
            img.alt = '도서 이미지';
            itemDiv.appendChild(img);

            // 4) 책 제목
            const titleP = document.createElement('p');
            titleP.classList.add('book-title');
            titleP.innerText = product.productTitle;
            itemDiv.appendChild(titleP);

            // 5) 책 가격
            const priceP = document.createElement('p');
            priceP.classList.add('book-price');
            // 숫자 콤마 포맷팅 예시 (원 단위)
            const formattedPrice = product.productSalePrice
                .toString()
                .replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            priceP.innerText = '₩' + formattedPrice;
            itemDiv.appendChild(priceP);

            // 6) 컨테이너에 추가
            container.appendChild(itemDiv);
        }
    }

    // 왼쪽 화살표 클릭 (이전 슬라이드)
    window.leftBestsellerSlide = function () {
        const totalSlides = Math.ceil(bestSellerList.length / pageSize);
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        renderBestsellerBooks();
    };

    window.rightBestsellerSlide = function () {
        const totalSlides = Math.ceil(bestSellerList.length / pageSize);
        currentSlide = (currentSlide + 1) % totalSlides;
        renderBestsellerBooks();
    };

    document.addEventListener('DOMContentLoaded', function () {
        renderBestsellerBooks();
    });
</script>

</body>
</html>
